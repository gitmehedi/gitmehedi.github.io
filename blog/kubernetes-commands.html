<!DOCTYPE html>
<html lang="en">
<head>
    <title>Swapon - Kubernetes Commands</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Blog Template">
    <meta name="author" content="Xiaoying Riley at 3rd Wave Media">
    <link rel="shortcut icon" href="favicon.ico">

    <!-- FontAwesome JS-->
    <script defer src="../assets/fontawesome/js/all.min.js"></script>

    <!-- Plugin CSS -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/monokai-sublime.min.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="../assets/css/theme-1.css">


</head>

<body>

<header class="header text-center">
    <h1 class="blog-name pt-lg-4 mb-0"><a href="../index.html">Mehedi Hasan</a></h1>

    <nav class="navbar navbar-expand-lg navbar-dark">

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
                aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div id="navigation" class="collapse navbar-collapse flex-column">
            <div class="profile-section pt-3 pt-lg-0">
                <img class="profile-image mb-3 rounded-circle mx-auto" src="../assets/images/profile.jpg" alt="image">

                <div class="bio mb-3">Hi, my name is Md. Mehedi Hasan. Briefly introduce yourself here. You can also
                    provide a link to the about page.
                </div>
                <!--//bio-->
                <ul class="social-list list-inline py-3 mx-auto">
                    <li class="list-inline-item"><a target="_blank" href="https://www.linkedin.com/in/nopaws/"><i
                            class="fab fa-linkedin-in fa-fw"></i></a></li>
                    <li class="list-inline-item"><a target="_blank" href="https://github.com/gitmehedi"><i
                            class="fab fa-github-alt fa-fw"></i></a></li>
                    <li class="list-inline-item"><a target="_blank" href="https://stackoverflow.com/cv/mdmehedi"><i
                            class="fab fa-stack-overflow fa-fw"></i></a></li>
                </ul><!--//social-list-->
                <hr>
            </div><!--//profile-section-->

            <ul class="navbar-nav flex-column text-left">
                <li class="nav-item active">
                    <a class="nav-link" href="../index.html"><i class="fas fa-home fa-fw mr-2"></i>Home <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../about.html"><i class="fas fa-user fa-fw mr-2"></i>About Me</a>
                </li>
            </ul>
        </div>
    </nav>
</header>


<div class="main-wrapper">
    <article class="blog-post px-3 py-5 p-md-5">
        <div class="container">
            <header class="blog-post-header">
                <h2 class="title mb-2">Kubernetes Commands for Resource Generation</h2>
                <div class="meta mb-3">
                    <span class="date">Published on 18/06/2020</span>
                    <span class="time">5 min read</span>
                </div>
            </header>

            <div class="blog-post-body">
                <figure class="blog-banner" style="text-align: center;">
                    <img class="img-fluid" src="../assets/images/blog/kubernetes_command.png" alt="image">
                </figure>
                <p>In kubernetes, command can be divided into two categories depending on how command generate
                    resources. Both categories are used depending on resource generation requirements.</p>
                <ol>
                    <li>Declarative Approach</li>
                    <li>Imperative Approach</li>
                </ol>

                <h3 class="mt-5 mb-3">1. Declarative Approach</h3>
                Declarative approach used when a definition file needed to declare and using that file kubernetes
                generate in the cluster.
                Two steps follow to accomplish in declarative approach.
                <ol>
                    <li>Create a definition file</li>
                    <li>Use command to generate the resources</li>
                </ol>
                <pre>
                    <code>
# 1. define a definition file nginx-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment
spec:
  selector:
    matchLabels:
      app: nginx
  minReadySeconds: 5
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx:1.14.2
        ports:
        - containerPort: 80

# 2. create resources using definition file nginx-deployment.yaml
$ kubectl create -f nginx-deployment.yaml
                    </code>
                </pre>
                <h3 class="mt-5 mb-3">2. Imperative Approach</h3>
                Imperative approach is the way resource can be created using command line instruction without defining
                any resource. Limited resource can be created using imperative command. In fact all the allowed resource
                does not create with all properties. But imperative command is very helpful for faster your work
                process. Additional properties can be added using after generation of definition file from imperative
                command. Command are used for imperative command.
                <pre>
                    <code>
$ kubectl run
$ kubectl create
                    </code>
                </pre>
                Imperative command supports total 16 resource generation.
                <ul>
                    <li>Kubectl Run: 1</li>
                    <li>Kubectl Create: 15</li>
                </ul>
                <strong>KUBECTL RUN supports only 1 resource.</strong>
                <pre>
                    <code>$ kubectl run front-end --image=nginx --port=80</code>
                </pre>
                <strong>KUBECTL CREATE supports 15 resources</strong>
                <pre>
                    <code>

  clusterrole         Create a ClusterRole.
  clusterrolebinding  Create a ClusterRoleBinding for a particular ClusterRole
  configmap           Create a configmap from a local file, directory or literal value
  cronjob             Create a cronjob with the specified name.
  deployment          Create a deployment with the specified name.
  job                 Create a job with the specified name.
  namespace           Create a namespace with the specified name
  poddisruptionbudget Create a pod disruption budget with the specified name.
  priorityclass       Create a priorityclass with the specified name.
  quota               Create a quota with the specified name.
  role                Create a role with single rule.
  rolebinding         Create a RoleBinding for a particular Role or ClusterRole
  secret              Create a secret using specified subcommand
  service             Create a service using specified subcommand.
  serviceaccount      Create a service account with the specified name
                    </code>
                </pre>

                <pre>
                    <code>
  $ k run -h
  Create and run a particular image in a pod.

  Examples:
  # Start a hazelcast pod and set environment variables "DNS_DOMAIN=cluster" and "POD_NAMESPACE=default" in thecontainer.
  kubectl run hazelcast --image=hazelcast/hazelcast --env="DNS_DOMAIN=cluster" --env="POD_NAMESPACE=default" --port=5701 --labels="app=hazelcast,env=prod"

  # Start a nginx pod, but overload the spec with a partial set of values parsed from JSON.
  kubectl run nginx --image=nginx --overrides='{ "apiVersion": "v1", "spec": { ... } }'

  # Start the nginx pod using the default command, but use custom arguments (arg1 .. argN) for that command.
  kubectl run nginx --image=nginx -- <arg1> <arg2> ... <argN>

  # Start the nginx pod using a different command and custom arguments.
  kubectl run nginx --image=nginx --command -- <cmd> <arg1> ... <argN>

Options:
      --command=false: If true and extra arguments are present, use them as the 'command' field in the container, rather
than the 'args' field which is the default.
      --env=[]: Environment variables to set in the container.
      --expose=false: If true, service is created for the container(s) which are run
  -f, --filename=[]: to use to replace the resource.
      --force=false: If true, immediately remove resources from API and bypass graceful deletion. Note that immediate
deletion of some resources may result in inconsistency or data loss and requires confirmation.
      --hostport=-1: The host port mapping for the container port. To demonstrate a single-machine container.
      --image='': The image for the container to run.
      --image-pull-policy='': The image pull policy for the container. If left empty, this value will not be specified
by the client and defaulted by the server
  -l, --labels='': Comma separated labels to apply to the pod(s). Will override previous values.
      --leave-stdin-open=false: If the pod is started in interactive mode or with stdin, leave stdin open after the
first attach completes. By default, stdin will be closed after the first attach completes.
      --limits='': The resource requirement limits for this container.  For example, 'cpu=200m,memory=512Mi'.  Note that
server side components may assign limits depending on the server configuration, such as limit ranges.
  -o, --output='': Output format. One of:
json|yaml|name|go-template|go-template-file|template|templatefile|jsonpath|jsonpath-file.
      --port='': The port that this container exposes.
      --record=false: Record current kubectl command in the resource annotation. If set to false, do not record the
command. If set to true, record the command. If not set, default to updating the existing annotation value only if one
already exists.
      --requests='': The resource requirement requests for this container.  For example, 'cpu=100m,memory=256Mi'.  Note
that server side components may assign requests depending on the server configuration, such as limit ranges.
      --rm=false: If true, delete resources created in this command for attached containers.
      --serviceaccount='': Service account to set in the pod spec.
                    </code>
                </pre>


                <h3 class="mt-5 mb-3">Necessary Kubernetes Command for Alias</h3>
                <pre>
                       <code>

$ alias k="kubectl"
$ alias kn="kubectl get nodes -o wide"
$ alias kp="kubectl get pods -o wide"
$ alias kd="kubectl get deployment -o wide"
$ alias ks="kubectl get svc -o wide"


$ alias ke="kubectl explain --recursive"
$ alias kdp="kubectl describe pod"
$ alias kdd="kubectl describe deployment"
$ alias kds="kubectl describe service"
$ alias kdn="kubectl describe node"
$ alias kcr="kubectl run --dry-run=client -o yaml --generator=run-pod/v1"
$ alias kcc="kubectl create --dry-run=client -o yaml"

$ alias k="kubectl" kg="kubectl get -o wide" kd="kubectl describe" kdl="kubectl delete" kc="kubectl create" kx="kubectl explain --recursive"

					    </code>
				    </pre>


                <nav class="blog-nav nav nav-justified my-5">
                    <a class="nav-link-prev nav-item nav-link rounded-left" href="index.html">Previous<i
                            class="arrow-prev fas fa-long-arrow-alt-left"></i></a>
                    <a class="nav-link-next nav-item nav-link rounded-right" href="blogs.html">Next<i
                            class="arrow-next fas fa-long-arrow-alt-right"></i></a>
                </nav>

            </div>
    </article>


    <footer class="footer text-center py-2 theme-bg-dark">
        <small class="copyright"> © 2020 by Mehedi Hasan | Powered by GitHub pages</small>
    </footer>
</div>


<!-- Javascript -->
<script src="../assets/plugins/jquery-3.4.1.min.js"></script>
<script src="../assets/plugins/popper.min.js"></script>
<script src="../assets/plugins/bootstrap/js/bootstrap.min.js"></script>

<!-- Page Specific JS -->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js"></script>

<!-- Custom JS -->
<script src="../assets/js/blog.js"></script>

<!-- Style Switcher (REMOVE ON YOUR PRODUCTION SITE) -->
<script src="../assets/js/demo/style-switcher.js"></script>


</body>
</html> 

